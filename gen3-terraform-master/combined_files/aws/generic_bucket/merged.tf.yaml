module:
- s3_bucket:
    aes_encryption: ${var.aes_encryption}
    block_public_acls: ${var.block_public_acls}
    block_public_policy: ${var.block_public_policy}
    bucket_lifecycle_configuration: ${var.bucket_lifecycle_configuration}
    bucket_name: ${var.bucket_name}
    bucket_ownership: ${var.bucket_ownership}
    ignore_public_acls: ${var.ignore_public_acls}
    kms_key_id: ${var.kms_key_id}
    logging_bucket_name: ${var.logging_bucket_name}
    policy_actions: ${var.policy_actions}
    policy_role_arn: ${var.policy_role_arn}
    public_access_block: ${var.public_access_block}
    restrict_public_buckets: ${var.restrict_public_buckets}
    source: ../modules/generic-bucket
    versioning: ${var.versioning}
terraform:
- backend:
  - s3:
      encrypt: 'true'
  required_providers:
  - aws:
      source: hashicorp/aws
      version: ~> 5.0
---
variable:
- bucket_name: {}
- bucket_ownership:
    default: BucketOwnerEnforced
- cloudtrail_bucket:
    default: false
    type: bool
- logging_bucket_name:
    default: ''
    type: string
- aes_encryption:
    default: false
- kms_key_id:
    default: ''
    description: The KMS key to use for the bucket
- public_access_block:
    default: true
- block_public_acls:
    default: true
- block_public_policy:
    default: true
- ignore_public_acls:
    default: true
- restrict_public_buckets:
    default: true
- versioning:
    default: false
- bucket_lifecycle_configuration:
    default: ''
- policy_role_arn:
    default: ''
- policy_actions:
    default:
    - s3:GetObject
    - s3:PutObject
    - s3:DeleteObject
    type: ${list(string)}
