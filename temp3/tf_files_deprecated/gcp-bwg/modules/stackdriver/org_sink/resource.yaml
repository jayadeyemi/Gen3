---
resource:
  google_logging_organization_sink:
    my-sink:
      name: ${var.name}
      org_id: ${var.org_id}
      filter: ${var.filter}
      destination: ${var.destination_api}/${var.destination}
  google_storage_bucket_iam_member:
    log-writer:
      bucket: ${var.destination}
      role: ${var.writer_identity_role}
      member: ${google_logging_organization_sink.my-sink.writer_identity}
      depends_on:
        google_logging_organization_sink.my-sink
