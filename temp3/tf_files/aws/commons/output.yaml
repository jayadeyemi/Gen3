---
output:
  aws_region:
    value: ${var.aws_region}
  vpc_name:
    value: ${var.vpc_name}
  vpc_cidr_block:
    value: ${module.cdis_vpc.vpc_cidr_block}
  indexd_rds_id:
    value: ${aws_db_instance.db_indexd.*.identifier}
  fence_rds_id:
    value: ${aws_db_instance.db_fence.*.identifier}
  sheepdog_rds_id:
    value: ${aws_db_instance.db_sheepdog.*.identifier}
  fence-bot_user_secret:
    value: ${module.cdis_vpc.fence-bot_secret}
    sensitive: true
  fence-bot_user_id:
    value: ${module.cdis_vpc.fence-bot_id}
  data-bucket_name:
    value: ${module.cdis_vpc.data-bucket_name}
  kubeconfig:
    value: ${module.eks[0].kubeconfig}
    sensitive: true
  config_map_aws_auth:
    value: ${module.eks[0].config_map_aws_auth}
    sensitive: true
  eks_cluster_name:
    value: ${module.eks[0].cluster_name}
  eks_cluster_endpoint:
    value: ${module.eks[0].cluster_endpoint}
    sensitive: true
  eks_cluster_ca_cert:
    value: ${module.eks[0].cluster_certificate_authority_data}
    sensitive: true
  eks_oidc_arn:
    value: ${module.eks[0].oidc_provider_arn}
  cluster_oidc_provider_url:
    value: ${module.eks[0].cluster_oidc_provider_url}
  cluster_oidc_provider_arn:
    value: ${module.eks[0].cluster_oidc_provider_arn}
  opensearch_cluster_arn:
    value: '${var.deploy_es ? module.commons_vpc_es[0].es_arn : null}'
  aurora_cluster_writer_endpoint:
    description: Aurora cluster writer instance endpoint
    value: ${one(module.aurora[*].aurora_cluster_writer_endpoint)}
  aurora_cluster_reader_endpoint:
    description: Aurora cluster reader endpoint
    value: ${one(module.aurora[*].aurora_cluster_reader_endpoint)}
  aurora_cluster_master_username:
    description: Aurora cluster master username
    value: ${one(module.aurora[*].aurora_cluster_master_username)}
  aurora_cluster_master_password:
    description: Aurora cluster master user's password
    value: ${one(module.aurora[*].aurora_cluster_master_password)}
    sensitive: true
  es_endpoint:
    value: '${var.deploy_es ? module.commons_vpc_es[0].es_endpoint : null}'
  waf_arn:
    description: WAF arn - annotate the cluster ingress
    value: '${var.deploy_waf ? module.aws_waf[0].waf_arn : null}'
