---
module:
  - iam_role:
    count: '${var.ha_squid ? 1 : 0}'
    source: ../iam-role
    role_name: ${var.vpc_name}-gw-checks-lambda-role
    role_description: Role for ${var.vpc_name}-gw-checks-lambda
    role_tags:
      Environment: ${var.vpc_name}
      Organization: ${var.organization_name}
    role_assume_role_policy: "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}"
