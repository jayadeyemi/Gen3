---
data:
  - google_compute_subnetwork:
    created_subnets:
      count: ${length(var.subnets) > 0 && var.create_vpc_secondary_ranges == 1 ? length(var.subnets):0}
      name: ${element(google_compute_subnetwork.subnetwork.*.name, count.index)}
      region: ${element(google_compute_subnetwork.subnetwork.*.region, count.index)}
      project: ${var.project_id}
  - google_compute_subnetwork:
    created_subnetsnoalias:
      count: ${length(var.subnets) > 0 && var.create_vpc_secondary_ranges == 0 ? length(var.subnets):0 }
      name: ${element(google_compute_subnetwork.subnetworknoalias.*.name, count.index)}
      region: ${element(google_compute_subnetwork.subnetworknoalias.*.region, count.index)}
      project: ${var.project_id}
